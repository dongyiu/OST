---
config:
  theme: neutral
  themeVariables:
    fontSize: 14px
---
flowchart TD
 subgraph MetaReasoning["Meta-Reasoning Controller"]
    direction TB
        M2["Confidence Analyzer"]
        M1["API Call Tracker"]
        M3["Efficiency Optimizer"]
        M4["History Manager"]
  end
 subgraph APIGateway["Rate-Optimized Workflow"]
    direction TB
        A2["Cache Layer"]
        A1["API Client"]
        A3{"Resource Exhausted?"}
        A4["Exponential Backoff"]
        A5["Retry Handler"]
        A6["Gemini API"]
  end
    A("Resume PDF") --> B["PDF Parser"]
    B --> C["Job Field Extractor"]
    C --> D["Question Generator"]
    D --> E["Dynamic Question Manager"]
    F["Data Storage"] --> G("MongoDB")
    M1 --> M2
    M2 --> M3
    M3 --> M4
    A1 --> A2
    A2 --> A3
    A3 -- Yes --> A4
    A4 --> A5
    A5 --> A1
    A3 -- No --> A6
    User("Job Seeker") -- Upload Resume --> A
    User <-- Adaptive Q&A --> E
    C -- Uses --> APIGateway
    D -- Uses --> APIGateway
    E -- Consults --> MetaReasoning
    MetaReasoning -- Monitors --> APIGateway
    E -- Uses --> APIGateway
    E -- Writes --> F
     A:::data
     B:::process
     C:::process
     D:::process
     E:::process
     F:::process
     G:::data
     M1:::process
     M2:::process
     M3:::process
     M4:::process
     A1:::process
     A2:::process
     A4:::process
     A5:::process
     A6:::process
     User:::data
     APIGateway:::box
     MetaReasoning:::box
    classDef box fill:#e0f2fe,stroke:#0369a1
    classDef process fill:#f0fdf4,stroke:#15803d
    classDef data fill:#fff1f2,stroke:#be123c